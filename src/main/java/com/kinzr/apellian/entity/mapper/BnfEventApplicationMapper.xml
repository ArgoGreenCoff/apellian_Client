<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kinzr.apellian.entity.mapper.BnfEventApplicationMapper">
  <resultMap id="BaseResultMap" type="com.kinzr.apellian.entity.model.BnfEventApplication">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 18 06:33:12 KST 2020.
    -->
    <id column="ID_EVENT_APPLICATION" jdbcType="INTEGER" property="idEventApplication" />
    <result column="ID_BNF_EVENT" jdbcType="INTEGER" property="idBnfEvent" />
    <result column="ID_USER" jdbcType="VARCHAR" property="idUser" />
    <result column="DS_PARTNER" jdbcType="VARCHAR" property="dsPartner" />
    <result column="NM_APPLY" jdbcType="VARCHAR" property="nmApply" />
    <result column="TEL_APPLY" jdbcType="VARCHAR" property="telApply" />
    <result column="CD_WIN" jdbcType="CHAR" property="cdWin" />
    <result column="ID_PAYMENT" jdbcType="BIGINT" property="idPayment" />
    <result column="DT_REG" jdbcType="TIMESTAMP" property="dtReg" />
    <result column="DS_APPLY" jdbcType="LONGVARCHAR" property="dsApply" />
    <result column="DS_BRAND" jdbcType="LONGVARCHAR" property="dsBrand" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 18 06:33:12 KST 2020.
    -->
    delete from BNF_EVENT_APPLICATION
    where ID_EVENT_APPLICATION = #{idEventApplication,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.kinzr.apellian.entity.model.BnfEventApplication">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 18 06:33:12 KST 2020.
    -->
    insert into BNF_EVENT_APPLICATION (ID_EVENT_APPLICATION, ID_BNF_EVENT, ID_USER, 
      DS_PARTNER, NM_APPLY, TEL_APPLY, 
      CD_WIN, ID_PAYMENT, DT_REG, 
      DS_APPLY, DS_BRAND)
    values (#{idEventApplication,jdbcType=INTEGER}, #{idBnfEvent,jdbcType=INTEGER}, #{idUser,jdbcType=VARCHAR}, 
      #{dsPartner,jdbcType=VARCHAR}, #{nmApply,jdbcType=VARCHAR}, #{telApply,jdbcType=VARCHAR}, 
      #{cdWin,jdbcType=CHAR}, #{idPayment,jdbcType=BIGINT}, #{dtReg,jdbcType=TIMESTAMP}, 
      #{dsApply,jdbcType=LONGVARCHAR}, #{dsBrand,jdbcType=LONGVARCHAR})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.kinzr.apellian.entity.model.BnfEventApplication">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 18 06:33:12 KST 2020.
    -->
    update BNF_EVENT_APPLICATION
    set ID_BNF_EVENT = #{idBnfEvent,jdbcType=INTEGER},
      ID_USER = #{idUser,jdbcType=VARCHAR},
      DS_PARTNER = #{dsPartner,jdbcType=VARCHAR},
      NM_APPLY = #{nmApply,jdbcType=VARCHAR},
      TEL_APPLY = #{telApply,jdbcType=VARCHAR},
      CD_WIN = #{cdWin,jdbcType=CHAR},
      ID_PAYMENT = #{idPayment,jdbcType=BIGINT},
      DT_REG = #{dtReg,jdbcType=TIMESTAMP},
      DS_APPLY = #{dsApply,jdbcType=LONGVARCHAR},
      DS_BRAND = #{dsBrand,jdbcType=LONGVARCHAR}
    where ID_EVENT_APPLICATION = #{idEventApplication,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 18 06:33:12 KST 2020.
    -->
    select ID_EVENT_APPLICATION, ID_BNF_EVENT, ID_USER, DS_PARTNER, NM_APPLY, TEL_APPLY, 
    CD_WIN, ID_PAYMENT, DT_REG, DS_APPLY, DS_BRAND
    from BNF_EVENT_APPLICATION
    where ID_EVENT_APPLICATION = #{idEventApplication,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon May 18 06:33:12 KST 2020.
    -->
    select ID_EVENT_APPLICATION, ID_BNF_EVENT, ID_USER, DS_PARTNER, NM_APPLY, TEL_APPLY, 
    CD_WIN, ID_PAYMENT, DT_REG, DS_APPLY, DS_BRAND
    from BNF_EVENT_APPLICATION
  </select>
  
  
  
  
  
  	<select id="selectByApplyCntByEvent" parameterType="java.lang.Integer" resultType="java.lang.Integer">
    <!--
    	해당 이벤트의 신청한 인원수 가져오기    
    -->
    select COUNT(*) from BNF_EVENT_APPLICATION
    where ID_BNF_EVENT = #{idBnfEvent,jdbcType=INTEGER}
	</select>
	<select id="selectByApplyCntByUser" parameterType="java.lang.String" resultType="java.lang.Integer">
    <!--
    	해당 유저의 클래스 신청횟수
    -->
    select COUNT(*) from BNF_EVENT_APPLICATION
    where ID_USER = #{idUser,jdbcType=VARCHAR}
	</select>
	<select id="selectApplyRequestByUser" parameterType="com.kinzr.apellian.entity.model.BnfEventApplication" resultType="java.lang.Boolean">
    <!--
    	해당 유저의 클래스 신청여부    
    -->
    select COUNT(*) from BNF_EVENT_APPLICATION
    where ID_BNF_EVENT = #{idBnfEvent,jdbcType=INTEGER} AND ID_USER = #{idUser,jdbcType=VARCHAR}
	</select>
	<select id="selectApplyInfo" parameterType="com.kinzr.apellian.entity.model.BnfEventApplication" resultMap="BaseResultMap">
    <!--
    	해당 유저의 신청정보 가져오기
    -->
    select ID_BNF_EVENT, ID_USER, DS_PARTNER, NM_APPLY, TEL_APPLY, CD_WIN, ID_PAYMENT, 
    DT_REG, DS_APPLY, DS_BRAND
    from BNF_EVENT_APPLICATION
    where ID_BNF_EVENT = #{idBnfEvent,jdbcType=INTEGER} AND ID_USER = #{idUser,jdbcType=VARCHAR}
	</select>
</mapper>