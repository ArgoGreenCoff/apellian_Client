<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kinzr.apellian.entity.mapper.AuthCodeMapper">
  <resultMap id="BaseResultMap" type="com.kinzr.apellian.entity.model.AuthCode">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 27 15:07:22 KST 2020.
    -->
    <id column="ID_AUTH_CODE" jdbcType="BIGINT" property="idAuthCode" />
    <result column="CD_AUTH" jdbcType="VARCHAR" property="cdAuth" />
    <result column="TY_AUTH" jdbcType="CHAR" property="tyAuth" />
    <result column="DT_REG" jdbcType="TIMESTAMP" property="dtReg" />
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 27 15:07:22 KST 2020.
    -->
    delete from AUTH_CODE
    where ID_AUTH_CODE = #{idAuthCode,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.kinzr.apellian.entity.model.AuthCode">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 27 15:07:22 KST 2020.
    -->
    insert into AUTH_CODE (ID_AUTH_CODE, CD_AUTH, TY_AUTH, 
      DT_REG)
    values (#{idAuthCode,jdbcType=BIGINT}, #{cdAuth,jdbcType=VARCHAR}, #{tyAuth,jdbcType=CHAR}, 
      #{dtReg,jdbcType=TIMESTAMP})
  </insert>
  <update id="updateByPrimaryKey" parameterType="com.kinzr.apellian.entity.model.AuthCode">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 27 15:07:22 KST 2020.
    -->
    update AUTH_CODE
    set CD_AUTH = #{cdAuth,jdbcType=VARCHAR},
      TY_AUTH = #{tyAuth,jdbcType=CHAR},
      DT_REG = #{dtReg,jdbcType=TIMESTAMP}
    where ID_AUTH_CODE = #{idAuthCode,jdbcType=BIGINT}
  </update>
  <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 27 15:07:22 KST 2020.
    -->
    select ID_AUTH_CODE, CD_AUTH, TY_AUTH, DT_REG
    from AUTH_CODE
    where ID_AUTH_CODE = #{idAuthCode,jdbcType=BIGINT}
  </select>
  <select id="selectAll" resultMap="BaseResultMap">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 27 15:07:22 KST 2020.
    -->
    select ID_AUTH_CODE, CD_AUTH, TY_AUTH, DT_REG
    from AUTH_CODE
  </select>
  <!--  <insert id="insertAfterGetKey" parameterType="com.kinzr.apellian.entity.model.AuthCode">  -->
  <insert id="insertAfterGetKey" parameterType="com.kinzr.apellian.entity.model.AuthCode" useGeneratedKeys="true" keyProperty="idAuthCode">
    <!--
      WARNING - @mbg.generated 
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 27 15:07:22 KST 2020.
    -->
    <!--  values (#{cdAuth,jdbcType=VARCHAR}, #{tyAuth,jdbcType=CHAR}, #{dtReg,jdbcType=TIMESTAMP})  -->
    insert into AUTH_CODE (CD_AUTH, TY_AUTH, DT_REG)
    values ( lpad(floor(rand()*100000), 5, '0') , #{tyAuth,jdbcType=CHAR}, now())
	<!-- 
	<selectKey keyProperty="ID_AUTH_CODE" resultType="long" order="AFTER">
		SELECT LAST_INSERT_ID()
    </selectKey>
     -->
  </insert>
  <insert id="insertAfterGetKey2" parameterType="com.kinzr.apellian.entity.model.AuthCode" useGeneratedKeys="true" keyProperty="idAuthCode">
    <!--
      WARNING - @mbg.generated 
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 27 15:07:22 KST 2020.
    -->
    <!--  values (#{cdAuth,jdbcType=VARCHAR}, #{tyAuth,jdbcType=CHAR}, #{dtReg,jdbcType=TIMESTAMP})  -->
    insert into AUTH_CODE (CD_AUTH, TY_AUTH, DT_REG)
    values ( lpad(floor(rand()*100000), 4, '0') , #{tyAuth,jdbcType=CHAR}, now())
  </insert>
    
  <insert id="insertSendMsg" parameterType="com.kinzr.apellian.entity.model.AuthCode" useGeneratedKeys="true" keyProperty="idAuthCode">
    <!--
      WARNING - @mbg.generated 
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Apr 27 15:07:22 KST 2020.
    -->
    <!--  values (#{cdAuth,jdbcType=VARCHAR}, #{tyAuth,jdbcType=CHAR}, #{dtReg,jdbcType=TIMESTAMP})  -->
	INSERT INTO MSG_DATA (CUR_STATE, REQ_DATE, CALL_TO, CALL_FROM, SMS_TXT, MSG_TYPE) 
	VALUES (0, NOW(), #{tyAuth,jdbcType=CHAR}, '01056583466', #{cdAuth,jdbcType=VARCHAR}, 4);
  </insert>
    
</mapper>